import { GoogleGenerativeAI } from "@google/generative-ai";
const apiKey = import.meta.env.VITE_GEMINI_AI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-2.0-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {
          text: "Generate Travel Plan for Location: Swizerland, for 3 Days and 3 Night for {people of 2 with a modarate budget with a Flight details, Flight Price with Booking url, Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and Places to visit nearby with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, Time t travel each of the location for 3 days and 3 night with each day plan with best time to visit in JSON format",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: 'Okay, here\'s a possible 3-day, 3-night Switzerland itinerary for two people on a moderate budget. I\'ll structure the response in JSON format as requested, with placeholder flight information and estimated costs. **Please remember to replace the placeholders with actual flight and hotel bookings, and adjust costs based on your actual spending.**\n\n```json\n{\n  "travelers": {\n    "number_of_people": 2,\n    "budget": "Moderate"\n  },\n  "location": "Switzerland",\n  "duration": "3 Days / 3 Nights",\n  "flights": {\n    "arrival": {\n      "airline": "Swiss International Air Lines (Placeholder)",\n      "flight_number": "LX123 (Placeholder)",\n      "origin": "Your Origin City (Placeholder)",\n      "destination": "Zurich Airport (ZRH)",\n      "arrival_date": "YYYY-MM-DD (Placeholder)",\n      "arrival_time": "HH:MM (Placeholder)",\n      "flight_price": {\n        "currency": "USD",\n        "amount": 600 //Placeholder - adjust based on your actual flight\n      },\n      "booking_url": "www.exampleflightbooking.com (Placeholder)"\n    },\n    "departure": {\n      "airline": "Swiss International Air Lines (Placeholder)",\n      "flight_number": "LX456 (Placeholder)",\n      "origin": "Zurich Airport (ZRH)",\n      "destination": "Your Origin City (Placeholder)",\n      "departure_date": "YYYY-MM-DD (Placeholder)",\n      "departure_time": "HH:MM (Placeholder)",\n      "flight_price": {\n        "currency": "USD",\n        "amount": 600 //Placeholder - adjust based on your actual flight\n      },\n      "booking_url": "www.exampleflightbooking.com (Placeholder)"\n    }\n  },\n  "hotels": [\n    {\n      "hotelName": "Hotel St. Gotthard (Example - Zurich)",\n      "hotelAddress": "Bahnhofstrasse 87, 8001 Zürich, Switzerland",\n      "price": {\n        "currency": "USD",\n        "amount": 200 // Per night - Placeholder.  Adjust based on actual booking.\n      },\n      "hotelImageUrl": "https://example.com/hotelstgotthard.jpg (Placeholder)",\n      "geoCoordinates": {\n        "latitude": 47.37688,\n        "longitude": 8.54074\n      },\n      "rating": 4.0,\n      "description": "A traditional hotel in the heart of Zurich, near the train station. Offers comfortable rooms and a convenient location.",\n      "amenities": ["Free WiFi", "Restaurant", "Bar", "Air conditioning"]\n    },\n    {\n      "hotelName": "EasyHotel Zurich West (Budget Option)",\n      "hotelAddress": "Technoparkstrasse 5, 8005 Zürich, Switzerland",\n      "price": {\n        "currency": "USD",\n        "amount": 120 // Per night - Placeholder.  Adjust based on actual booking.\n      },\n      "hotelImageUrl": "https://example.com/easyhotelzurich.jpg (Placeholder)",\n      "geoCoordinates": {\n        "latitude": 47.3956,\n        "longitude": 8.5191\n      },\n      "rating": 3.5,\n      "description": "Budget-friendly hotel in Zurich West.  Basic but clean and well-connected by public transport.",\n      "amenities": ["Free WiFi", "Vending Machines"]\n    }\n  ],\n  "itinerary": {\n    "day1": {\n      "date": "YYYY-MM-DD (Placeholder)",\n      "theme": "Zurich City Exploration",\n      "morning": {\n        "time": "9:00 AM",\n        "placeName": "Bahnhofstrasse",\n        "placeDetails": "Zurich\'s main shopping street, known for its luxury boutiques and department stores. Perfect for a stroll and window shopping.",\n        "placeImageUrl": "https://example.com/bahnhofstrasse.jpg (Placeholder)",\n        "geoCoordinates": {\n          "latitude": 47.3768,\n          "longitude": 8.5417\n        },\n        "ticketPricing": {\n          "currency": "USD",\n          "amount": 0\n        },\n        "timeToTravel": "N/A - Already in Zurich",\n        "bestTimeToVisit": "Morning or late afternoon to avoid crowds."\n      },\n      "afternoon": {\n        "time": "12:00 PM",\n        "placeName": "Lunch at Sternen Grill",\n        "placeDetails": "A Zurich institution known for its delicious sausages (Wurst). A great, affordable local lunch option.",\n        "placeImageUrl": "https://example.com/sternengrill.jpg (Placeholder)",\n        "geoCoordinates": {\n          "latitude": 47.3672,\n          "longitude": 8.5444\n        },\n        "ticketPricing": {\n          "currency": "USD",\n          "amount": 15 // Approximate cost of lunch per person\n        },\n        "timeToTravel": "Short walk from Bahnhofstrasse",\n        "bestTimeToVisit": "Anytime for Lunch"\n      },\n      "late_afternoon": {\n        "time": "2:00 PM",\n        "placeName": "Lindenhof",\n        "placeDetails": "A historic hilltop park offering panoramic views of Zurich\'s old town, the Limmat River, and the Alps.",\n        "placeImageUrl": "https://example.com/lindenhof.jpg (Placeholder)",\n        "geoCoordinates": {\n          "latitude": 47.3714,\n          "longitude": 8.5422\n        },\n        "ticketPricing": {\n          "currency": "USD",\n          "amount": 0\n        },\n        "timeToTravel": "Short walk from Sternen Grill",\n        "bestTimeToVisit": "Afternoon for good light and views"\n      },\n      "evening": {\n        "time": "6:00 PM",\n        "placeName": "Dinner in Niederdorf",\n        "placeDetails": "Explore Niederdorf, Zurich\'s charming old town, filled with restaurants, cafes, and shops.  Find a restaurant that suits your budget.",\n        "placeImageUrl": "https://example.com/niederdorf.jpg (Placeholder)",\n        "geoCoordinates": {\n          "latitude": 47.3711,\n          "longitude": 8.5455\n        },\n        "ticketPricing": {\n          "currency": "USD",\n          "amount": 40 // Approximate dinner cost per person\n        },\n        "timeToTravel": "Walk from Lindenhof",\n        "bestTimeToVisit": "Evening for the atmosphere."\n      }\n    },\n    "day2": {\n      "date": "YYYY-MM-DD (Placeholder)",\n      "theme": "Lucerne and Lake Lucerne",\n      "morning": {\n        "time": "8:00 AM",\n        "placeName": "Train to Lucerne",\n        "placeDetails": "Take a scenic train ride from Zurich to Lucerne.  Enjoy the views of the Swiss countryside.",\n        "placeImageUrl": "https://example.com/train_lucerne.jpg (Placeholder)",\n        "geoCoordinates": {\n          "latitude": 47.3781,\n          "longitude": 8.5401\n        },\n        "ticketPricing": {\n          "currency": "USD",\n          "amount": 30 //One way. Approx\n        },\n        "timeToTravel": "Approximately 1 hour by train",\n        "bestTimeToVisit": "Early morning to maximize time in Lucerne."\n      },\n      "afternoon": {\n        "time": "9:00 AM",\n        "placeName": "Chapel Bridge and Water Tower",\n        "placeDetails": "Lucerne\'s iconic covered wooden bridge, adorned with historical paintings.  The adjacent water tower is a symbol of the city.",\n        "placeImageUrl": "https://example.com/chapelbridge.jpg (Placeholder)",\n        "geoCoordinates": {\n          "latitude": 47.0516,\n          "longitude": 8.3093\n        },\n        "ticketPricing": {\n          "currency": "USD",\n          "amount": 0\n        },\n        "timeToTravel": "Walk from Lucerne Train station",\n        "bestTimeToVisit": "Anytime during the day, but avoid peak tourist hours."\n      },\n\n      "late_afternoon": {\n        "time": "1:00 PM",\n        "placeName": "Lake Lucerne Boat Trip",\n        "placeDetails": "Take a scenic boat trip on Lake Lucerne. Enjoy stunning views of the surrounding mountains.",\n        "placeImageUrl": "https://example.com/lakelucerneboat.jpg (Placeholder)",\n        "geoCoordinates": {\n          "latitude": 47.0391,\n          "longitude": 8.3333\n        },\n        "ticketPricing": {\n          "currency": "USD",\n          "amount": 35 //Approx cost\n        },\n        "timeToTravel": "Board at Lucerne harbor",\n        "bestTimeToVisit": "Afternoon, check boat schedules."\n      },\n\n       "evening": {\n        "time": "6:00 PM",\n        "placeName": "Dinner in Lucerne",\n        "placeDetails": "Enjoy dinner at a restaurant in Lucerne\'s old town.",\n        "placeImageUrl": "https://example.com/dinnerLucerne.jpg (Placeholder)",\n        "geoCoordinates": {\n          "latitude": 47.0503,\n          "longitude": 8.3093\n        },\n        "ticketPricing": {\n          "currency": "USD",\n          "amount": 40 // Approx.\n        },\n        "timeToTravel": "Walk from Boat station",\n        "bestTimeToVisit": "Evening"\n      },\n       "night": {\n        "time": "8:00 PM",\n        "placeName": "Train back to Zurich",\n        "placeDetails": "Take a train back to Zurich.",\n        "placeImageUrl": "https://example.com/trainZurich.jpg (Placeholder)",\n        "geoCoordinates": {\n          "latitude": 47.0503,\n          "longitude": 8.3093\n        },\n        "ticketPricing": {\n          "currency": "USD",\n          "amount": 30 // Approx.\n        },\n        "timeToTravel": "Train station nearby",\n        "bestTimeToVisit": "Evening"\n      }\n\n    },\n    "day3": {\n      "date": "YYYY-MM-DD (Placeholder)",\n      "theme": "Rhine Falls and Stein am Rhein",\n      "morning": {\n        "time": "9:00 AM",\n        "placeName": "Train to Rhine Falls",\n        "placeDetails": "Travel by train from Zurich to Rhine Falls.",\n        "placeImageUrl": "https://example.com/train_rhinefalls.jpg (Placeholder)",\n        "geoCoordinates": {\n          "latitude": 47.3781,\n          "longitude": 8.5401\n        },\n        "ticketPricing": {\n          "currency": "USD",\n          "amount": 25 // One way. Approx.\n        },\n        "timeToTravel": "Approximately 1 hour by train",\n        "bestTimeToVisit": "Morning to avoid crowds."\n      },\n      "afternoon": {\n        "time": "10:00 AM",\n        "placeName": "Rhine Falls",\n        "placeDetails": "Europe\'s largest waterfall. Take a boat trip to get close to the falls.",\n        "placeImageUrl": "https://example.com/rhinefalls.jpg (Placeholder)",\n        "geoCoordinates": {\n          "latitude": 47.6786,\n          "longitude": 8.6128\n        },\n        "ticketPricing": {\n          "currency": "USD",\n          "amount": 20 // Boat trip - Approximate\n        },\n        "timeToTravel": "Walk from train station",\n        "bestTimeToVisit": "Anytime during the day."\n      },\n      "late_afternoon": {\n        "time": "1:00 PM",\n        "placeName": "Lunch near Rhine Falls",\n        "placeDetails": "Enjoy lunch at a restaurant near Rhine Falls.",\n        "placeImageUrl": "https://example.com/lunchRhine.jpg (Placeholder)",\n        "geoCoordinates": {\n          "latitude": 47.6786,\n          "longitude": 8.6128\n        },\n        "ticketPricing": {\n          "currency": "USD",\n          "amount": 25 // Approx cost per person\n        },\n        "timeToTravel": "Walk from falls",\n        "bestTimeToVisit": "After the falls"\n      },\n\n      "evening": {\n        "time": "3:00 PM",\n        "placeName": "Stein am Rhein",\n        "placeDetails": "A beautifully preserved medieval town with painted facades. Take a train from Rhine Falls.",\n        "placeImageUrl": "https://example.com/steinamrhein.jpg (Placeholder)",\n        "geoCoordinates": {\n          "latitude": 47.6575,\n          "longitude": 8.8603\n        },\n        "ticketPricing": {\n          "currency": "USD",\n          "amount": 5 // Train ticket - Approximate\n        },\n        "timeToTravel": "Short train ride from Rhine Falls",\n        "bestTimeToVisit": "Late afternoon for golden light."\n      },\n\n       "night": {\n        "time": "6:00 PM",\n        "placeName": "Dinner in Stein am Rhein",\n        "placeDetails": "Enjoy dinner in the beautiful town of Stein am Rhein",\n        "placeImageUrl": "https://example.com/DinnerStein.jpg (Placeholder)",\n        "geoCoordinates": {\n          "latitude": 47.6575,\n          "longitude": 8.8603\n        },\n        "ticketPricing": {\n          "currency": "USD",\n          "amount": 30 // Approximate\n        },\n        "timeToTravel": "Walk from town",\n        "bestTimeToVisit": "Evening"\n      },\n\n       "night": {\n        "time": "8:00 PM",\n        "placeName": "Train back to Zurich",\n        "placeDetails": "Train from Stein am Rhein back to Zurich",\n        "placeImageUrl": "https://example.com/DinnerStein.jpg (Placeholder)",\n        "geoCoordinates": {\n          "latitude": 47.6575,\n          "longitude": 8.8603\n        },\n        "ticketPricing": {\n          "currency": "USD",\n          "amount": 30 // Approx\n        },\n        "timeToTravel": "Walk from town to station",\n        "bestTimeToVisit": "Evening"\n      }\n    }\n  }\n}\n```\n\n**Important Notes and Considerations:**\n\n*   **Placeholders:**  I\'ve used placeholders throughout the JSON.  **You MUST replace these with your actual booked flight and hotel information, and adjust prices accordingly.**\n*   **Budget:** A moderate budget in Switzerland is relative.  Expect to spend around $150-$250 per day per person *excluding* flights and accommodation.  This can vary drastically depending on your choices. This itinerary leans towards the lower end of moderate.\n*   **Transportation:** This itinerary relies heavily on Switzerland\'s excellent public transportation system (trains).  Consider purchasing a Swiss Travel Pass if you plan on doing a lot of traveling by train.  It can save you money.\n*   **Food:** I\'ve included some affordable food options.  Supermarkets (Coop, Migros) are great for buying snacks and drinks to save money.\n*   **Flexibility:** This is a suggestion.  Feel free to adjust it based on your interests.\n*   **Booking:** Book flights and hotels well in advance, especially if traveling during peak season.\n*   **Currency:** Switzerland uses the Swiss Franc (CHF).  While many places accept Euros, the exchange rate might not be favorable.\n\n**How to Use This JSON:**\n\n1.  **Copy the JSON code.**\n2.  **Paste it into a text editor or a JSON editor.**\n3.  **Carefully replace all the `(Placeholder)` values with your actual information.**  This is the most important step!\n4.  **Use a JSON validator** (online) to ensure the JSON is correctly formatted. This will help prevent errors when you try to use it.\n\nThis detailed JSON should give you a great starting point for planning your trip to Switzerland!  Enjoy! Remember to adjust the itinerary to suit your interests and budget.\n',
        },
      ],
    },
  ],
});
